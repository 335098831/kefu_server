{"version":3,"sources":["webpack:///./src/views/knowledge/index.vue?80e0","webpack:///./src/views/knowledge/edit.vue?212d","webpack:///./src/views/knowledge/create.vue?79ac","webpack:///./src/views/knowledge/index.vue?d8f0","webpack:///./src/views/knowledge/create.vue?e5d1","webpack:///src/views/knowledge/create.vue","webpack:///./src/views/knowledge/create.vue?c80e","webpack:///./src/views/knowledge/create.vue","webpack:///./src/views/knowledge/edit.vue?ef0c","webpack:///src/views/knowledge/edit.vue","webpack:///./src/views/knowledge/edit.vue?8aad","webpack:///./src/views/knowledge/edit.vue","webpack:///src/views/knowledge/index.vue","webpack:///./src/views/knowledge/index.vue?43e7","webpack:///./src/views/knowledge/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_l","item","key","id","class","tableData","platform","on","$event","onTogglePlatform","_s","title","count","onRefresh","model","value","callback","$$v","keyword","expression","createDialogFormVisible","directives","name","rawName","staticStyle","list","indexMethod","scopedSlots","_u","fn","scope","row","sub_title","split","content","$getPlatformItem","$formatUnixDate","create_at","edit","deleteKnowledge","total","page_on","handleSizeChange","handleCurrentChange","editItem","editDialogFormVisible","staticRenderFns","dialogFormVisible","form","formLabelWidth","$set","tag","handleDel","ref","handleInputConfirm","nativeOn","type","indexOf","_k","keyCode","inputValue","showInput","$store","getters","index","closeModal","save","data","dynamicTags","inputVisible","uid","props","Boolean","complete","Function","methods","$emit","splice","$nextTick","push","console","log","join","lock","text","spinner","background","state","adminInfo","resize","component","platformConfig","formData","Object","response","loading","close","e","watch","assign","components","CreateDialog","EditDialog","page_size","computed","created","setTimeout","getTotal","getKnowledgeList","$confirm","confirmButtonText","cancelButtonText","center","parseInt","pid","val"],"mappings":"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","file":"js/chunk-5c1245e5.8e906d8e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e6cb2868&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e6cb2868&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=7b12f7d6&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=7b12f7d6&scoped=true&lang=stylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=015f50bf&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=015f50bf&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"me-head\"},[_c('span',[_c('i',{staticClass:\"el-icon-reading\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"知识库管理 \")])]),_c('el-button-group',[_vm._l((_vm.total),function(item){return [_c('el-button',{key:item.id,class:{'el-button--primary': item.id + '' == _vm.tableData.platform + ''},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onTogglePlatform(item.id)}}},[_vm._v(\"\\n          \"+_vm._s(item.title)+\" (\"+_vm._s(item.count)+\")\\n          \")])]})],2),_c('el-col',{attrs:{\"span\":5}},[_c('el-input',{attrs:{\"placeholder\":\"请输入关键词\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},on:{\"change\":_vm.onRefresh},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.createDialogFormVisible = true}}},[_vm._v(\"添 加\")])],1),_c('el-divider'),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.list}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"主标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"sub_title\",\"label\":\"子标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.sub_title != '')?_c('div',_vm._l((scope.row.sub_title.split('|')),function(item,key){return _c('div',{key:key,staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"\\n            \"+_vm._s(key+1)+\".\"+_vm._s(item)+\"\\n          \")])}),0):_c('div',[_vm._v(\"-----\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"label\":\"内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.content.split(\"\\n\")),function(item,key){return _c('div',{key:key,staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"\\n              \"+_vm._s(item)+\"\\n            \")])})}}])}),_c('el-table-column',{attrs:{\"prop\":\"platform\",\"align\":\"center\",\"label\":\"匹配平台\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(_vm.$getPlatformItem(scope.row.platform).title))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_at\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.$formatUnixDate(scope.row.create_at, \"YYYY/MM/DD\"))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"operating\",\"align\":\"center\",\"width\":\"150\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"编 辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteKnowledge(scope.row)}}},[_vm._v(\"删 除\")])]}}])})],1),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',{staticStyle:{\"color\":\"#666\",\"font-size\":\"14px\"}},[_vm._v(\"共找到\"+_vm._s(_vm.tableData.total)+\"条数据\")]),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"sizes, prev, pager, next\",\"current-page\":_vm.tableData.page_on,\"page-sizes\":[5, 10, 15, 20],\"total\":_vm.tableData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('CreateDialog',{attrs:{\"complete\":_vm.onRefresh,\"dialogFormVisible\":_vm.createDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.createDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.createDialogFormVisible=$event}}}),_c('EditDialog',{attrs:{\"formData\":_vm.editItem,\"complete\":_vm.onRefresh,\"dialogFormVisible\":_vm.editDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.editDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.editDialogFormVisible=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"添加新的知识\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"主标题\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主标题\",\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"子标题\",\"label-width\":_vm.formLabelWidth}},[_vm._l((_vm.dynamicTags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleDel(tag)}}},[_vm._v(_vm._s(tag))])}),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ 新增\")])],2),_c('el-form-item',{attrs:{\"label\":\"内容\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"rows\":\"5\",\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"匹配平台\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择匹配平台\"},model:{value:(_vm.form.platform),callback:function ($$v) {_vm.$set(_vm.form, \"platform\", $$v)},expression:\"form.platform\"}},_vm._l((_vm.$store.getters.platformConfig),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    width=\"600px\"\n    title=\"添加新的知识\"\n    :show-close=\"false\"\n    :visible.sync=\"dialogFormVisible\"\n    :close-on-click-modal=\"false\"\n  >\n    <el-form :model=\"form\">\n      <el-form-item label=\"主标题\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.title\" placeholder=\"请输入主标题\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"子标题\" :label-width=\"formLabelWidth\">\n        <el-tag\n          :key=\"tag\"\n          v-for=\"tag in dynamicTags\"\n          closable\n          :disable-transitions=\"false\"\n          @close=\"handleDel(tag)\"\n        >{{tag}}</el-tag>\n        <el-input\n          class=\"input-new-tag\"\n          v-if=\"inputVisible\"\n          v-model=\"inputValue\"\n          ref=\"saveTagInput\"\n          size=\"small\"\n          @keyup.enter.native=\"handleInputConfirm\"\n          @blur=\"handleInputConfirm\"\n        ></el-input>\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ 新增</el-button>\n      </el-form-item>\n      <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n        <el-input rows=\"5\"  type=\"textarea\" v-model=\"form.content\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"匹配平台\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"form.platform\" placeholder=\"请选择匹配平台\">\n          <el-option\n            :label=\"item.title\"\n            :value=\"item.id\"\n            :key=\"index\"\n            v-for=\"(item, index) in $store.getters.platformConfig\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeModal\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n    </div>\n  </el-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"mini-im-create-knowledge\",\n  data() {\n    return {\n      dynamicTags: [],\n      inputVisible: false,\n      inputValue: \"\",\n      form: {\n        uid: \"\",\n        platform: 1,\n        title: \"\",\n        sub_title: \"\",\n        content: \"\"\n      },\n      formLabelWidth: \"80px\"\n    };\n  },\n  props: {\n    dialogFormVisible: Boolean,\n    complete: Function\n  },\n  methods: {\n    // 关闭\n    closeModal() {\n      this.$emit(\"update:dialogFormVisible\", false);\n    },\n    // 删除标签\n    handleDel(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n    // 显示子标题输入框\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    // 标签确定\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = \"\";\n      console.log(this.dynamicTags.join(\"|\"));\n    },\n    // 保存\n    save() {\n      // 验证字段 ！！ 算了前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: \"保存中...\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      });\n      this.form.uid = this.$store.state.adminInfo.id;\n      this.form.sub_title = this.dynamicTags.join(\"|\");\n      axios\n        .post(\"/knowledge\", this.form)\n        .then(response => {\n          try {\n            console.log(response);\n            loading.close();\n            this.$message.success(\"添加成功\");\n            this.closeModal();\n            this.resize();\n            this.complete(1);\n          } catch (e) {\n            console.log(e);\n          }\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(error.response.data.message);\n        });\n    },\n    resize() {\n      this.dynamicTags = [];\n      this.form = {\n        uid: \"\",\n        platform: 1,\n        title: \"\",\n        sub_title: \"\",\n        content: \"\"\n      };\n    }\n  }\n};\n</script>\n<style scoped lang=\"stylus\">\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n\n.input-new-tag {\n  width: 150px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=015f50bf&scoped=true&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&id=015f50bf&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"015f50bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"编辑的知识\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"主标题\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主标题\",\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"子标题\",\"label-width\":_vm.formLabelWidth}},[_vm._l((_vm.dynamicTags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleDel(tag)}}},[_vm._v(\"\\n        \"+_vm._s(tag)+\"\\n      \")])}),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ 新增子标题\")])],2),_c('el-form-item',{attrs:{\"label\":\"内容\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"rows\":\"5\",\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"匹配平台\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择匹配平台\"},model:{value:(_vm.form.platform),callback:function ($$v) {_vm.$set(_vm.form, \"platform\", $$v)},expression:\"form.platform\"}},_vm._l((_vm.platformConfig),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog width=\"600px\"  title=\"编辑的知识\" :show-close=\"false\" :visible.sync=\"dialogFormVisible\" :close-on-click-modal=\"false\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"主标题\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.title\" placeholder=\"请输入主标题\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"子标题\" :label-width=\"formLabelWidth\">\n          <el-tag\n            :key=\"tag\"\n            v-for=\"tag in dynamicTags\"\n            closable\n            :disable-transitions=\"false\"\n            @close=\"handleDel(tag)\">\n            {{tag}}\n          </el-tag>\n          <el-input\n            class=\"input-new-tag\"\n            v-if=\"inputVisible\"\n            v-model=\"inputValue\"\n            ref=\"saveTagInput\"\n            size=\"small\"\n            @keyup.enter.native=\"handleInputConfirm\"\n            @blur=\"handleInputConfirm\"\n          >\n          </el-input>\n          <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ 新增子标题</el-button>\n        </el-form-item>\n        <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n          <el-input rows=\"5\" type=\"textarea\" v-model=\"form.content\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n         <el-form-item label=\"匹配平台\" :label-width=\"formLabelWidth\">\n            <el-select v-model=\"form.platform\" placeholder=\"请选择匹配平台\">\n              <el-option :label=\"item.title\" :value=\"item.id\" :key=\"index\" v-for=\"(item, index) in platformConfig\"></el-option>\n            </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeModal\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n      </div>\n    </el-dialog>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'mini-im-create-knowledge',\n  data(){\n    return {\n      dynamicTags: [],\n      inputVisible: false,\n      inputValue: '',\n      form: {\n        uid: \"\",\n        platform: 1,\n        title: '',\n        sub_title: '',\n        content: '',\n      },\n      platformConfig: [],\n      formLabelWidth: \"80px\"\n    }\n  },\n  props:{\n    dialogFormVisible: Boolean,\n    complete: Function,\n    formData: Object\n  },\n  methods: {\n    // 关闭\n    closeModal(){\n      this.$emit('update:dialogFormVisible', false);\n    },\n    // 删除标签\n    handleDel(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n    // 显示子标题输入框\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    // 确定\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = '';\n    },\n    // 保存\n    save(){\n      // 验证字段 ！！ 算了前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: '保存中...',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.5)'\n      });\n      this.form.uid = this.$store.state.adminInfo.id\n      this.form.sub_title = this.dynamicTags.join(\"|\")\n      axios.put('/knowledge', this.form)\n      .then(response => {\n        try{\n          console.log(response)\n          loading.close();\n          this.$message.success(\"修改成功\")\n          this.closeModal()\n          this.resize()\n          this.complete(1)\n        }catch(e){\n          console.log(e)\n        }\n      })\n      .catch(error => {\n        loading.close();\n        this.$message.error(error.response.data.message)\n      });\n\n    },\n    resize(){\n      this.dynamicTags = []\n      this.form = {\n        uid: \"\",\n        platform: 1,\n        title: '',\n        sub_title: '',\n        content: '',\n      };\n    }\n  },\n  watch:{\n    formData(){\n      this.platformConfig = this.$store.getters.platformConfig\n      this.form = Object.assign({},this.form, this.formData)\n      if(this.formData.sub_title != \"\") this.dynamicTags = this.formData.sub_title.split(\"|\")\n    }\n  }\n}\n</script>\n<style scoped lang=\"stylus\">\n    .el-tag + .el-tag {\n    margin-left: 10px;\n  }\n  .button-new-tag {\n    margin-left: 10px;\n    height: 32px;\n    line-height: 30px;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .input-new-tag {\n    width: 150px;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=7b12f7d6&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=7b12f7d6&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b12f7d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"me-head\">\n      <span>\n        <i class=\"el-icon-reading\"></i>\n        <span slot=\"title\">知识库管理 </span>\n      </span>\n        <el-button-group>\n       <template v-for=\"item in total\" >\n           <el-button :class=\"{'el-button--primary': item.id + '' == tableData.platform + ''}\" @click=\"onTogglePlatform(item.id)\" :key=\"item.id\" size=\"mini\">\n            {{item.title}} ({{item.count}})\n            </el-button>\n       </template>\n      </el-button-group>  \n       <el-col :span=\"5\">\n          <el-input @change=\"onRefresh\" placeholder=\"请输入关键词\" prefix-icon=\"el-icon-search\" v-model=\"keyword\" clearable></el-input>\n        </el-col>\n       <el-button @click=\"createDialogFormVisible = true\" size=\"mini\">添 加</el-button>\n    </div>\n    <el-divider />\n    <el-table\n      :data=\"tableData.list\"\n      style=\"width: 100%\"\n      v-loading=\"loading\"\n    >\n      <el-table-column\n        type=\"index\"\n        :index=\"indexMethod\"\n        width=\"60\">\n      </el-table-column>\n      <el-table-column\n        prop=\"title\"\n        label=\"主标题\">\n      </el-table-column>\n      <el-table-column\n        prop=\"sub_title\"\n        label=\"子标题\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.sub_title != ''\">\n            <div style=\"font-size: 13px;\" :key=\"key\" v-for=\"(item, key) in scope.row.sub_title.split('|')\">\n              {{key+1}}.{{item}}\n            </div>\n          </div>\n          <div v-else>-----</div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"content\"\n        label=\"内容\">\n        <template slot-scope=\"scope\">\n             <div style=\"font-size: 13px;\" :key=\"key\" v-for='(item, key) in scope.row.content.split(\"\\n\")'>\n                {{item}}\n              </div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"platform\"\n         align=\"center\"\n        label=\"匹配平台\">\n        <template slot-scope=\"scope\">\n          <el-tag>{{$getPlatformItem(scope.row.platform).title}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"create_at\"\n        label=\"创建时间\">\n        <template slot-scope=\"scope\">\n          {{$formatUnixDate(scope.row.create_at, \"YYYY/MM/DD\")}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"operating\"\n        align=\"center\"\n        width=\"150\"\n        label=\"操作\">\n         <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              @click=\"edit(scope.row)\">编 辑</el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"deleteKnowledge(scope.row)\">删 除</el-button>\n          </template>\n      </el-table-column>\n    </el-table>\n   <el-row type=\"flex\" style=\"margin-top: 20px;\" justify=\"space-between\">\n      <span style=\"color:#666;font-size: 14px;\">共找到{{tableData.total}}条数据</span>\n      <el-pagination\n        background\n         @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        layout=\"sizes, prev, pager, next\"\n        :current-page=\"tableData.page_on\"\n        :page-sizes=\"[5, 10, 15, 20]\"\n        :total=\"tableData.total\">\n      </el-pagination>\n    </el-row>\n    <CreateDialog :complete=\"onRefresh\" :dialogFormVisible.sync=\"createDialogFormVisible\" />\n    <EditDialog :formData=\"editItem\" :complete=\"onRefresh\" :dialogFormVisible.sync=\"editDialogFormVisible\" />\n  </div>\n</template>\n\n<script>\nimport CreateDialog from \"./create\"\nimport EditDialog from \"./edit\"\nimport axios from 'axios'\nexport default {\n  name: \"knowledge\",\n  components: {\n    CreateDialog,\n    EditDialog\n  },\n  data() {\n    return {\n      keyword: \"\",\n      tableData: {\n        list: [],\n        page_on: 1,\n        page_size: 10,\n        total: 0,\n        keyword: \"\",\n        platform: 1,\n      },\n      total: [],\n      createDialogFormVisible: false,\n      editDialogFormVisible: false,\n      loading: true,\n      editItem: null\n    }\n  },\n  computed: {\n    platformConfig(){\n      return this.$store.state.platformConfig || []\n    }\n  },\n  created(){\n    setTimeout( ()=> {\n      this.getKnowledgeList()\n      this.getTotal()\n    }, 500)\n    \n  },\n  methods: {\n    onRefresh(){\n      this.getTotal()\n      this.getKnowledgeList()\n    },\n    // 行号\n    indexMethod(index) {\n      return (this.tableData.page_on - 1) * this.tableData.page_size + index +1;\n    },\n    // 删除\n    deleteKnowledge(item){\n      this.$confirm('您确定要删除该知识库吗? 删除后不可恢复！', '温馨提示！', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        center: true,\n        type: 'warning'\n      }).then(() => {\n        axios.delete('/knowledge/' + item.id)\n        .then(response => {\n            console.log(response.data)\n            this.$message.success(\"删除成功\")\n            this.getKnowledgeList(1)\n        })\n        .catch(error => {\n          this.$message.error(error.response.data.message)\n        });\n      })\n    },\n    // 切换显示平台\n    onTogglePlatform(pid){\n      this.tableData.platform = parseInt(pid)\n      this.getKnowledgeList(1)\n    },\n    // 编辑\n    edit(item){\n      this.editItem = item\n      this.editDialogFormVisible = true\n    },\n    // 改变每页条数\n    handleSizeChange(val) {\n      this.tableData.page_size = val\n      this.getKnowledgeList()\n    },\n    // 分页\n    handleCurrentChange(val) {\n      this.tableData.page_on = val\n      this.getKnowledgeList()\n    },\n    // 获取数据\n    getKnowledgeList(index){\n      if(index) this.tableData.page_on = index\n      const {page_on, page_size, platform} = this.tableData\n      const keyword = this.keyword\n      axios.post('/knowledge/list', {page_on, page_size, platform, keyword})\n      .then(response => {\n          this.loading = false\n          this.tableData = response.data.data\n      })\n      .catch(error => {\n        this.loading = false\n        this.$message.error(error.response.data.message)\n      });\n    },\n    // 获取统计数据\n    getTotal(){\n      axios.get('/knowledge/total')\n      .then(response => {\n          this.total = response.data.data\n      })\n    },\n  },\n};\n</script>\n<style lang=\"stylus\" scoped>\n  .me-head{\n    height 30px\n    display flex\n    align-items center\n    font-size 20px\n    justify-content space-between\n    color #666\n    i{\n      margin-right 5px\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e6cb2868&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e6cb2868&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6cb2868\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}