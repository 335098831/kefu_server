{"version":3,"sources":["webpack:///./src/views/knowledge/index.vue?2566","webpack:///./src/views/knowledge/edit.vue?212d","webpack:///./src/views/knowledge/create.vue?79ac","webpack:///./src/views/knowledge/index.vue?5774","webpack:///./src/views/knowledge/create.vue?e5d1","webpack:///src/views/knowledge/create.vue","webpack:///./src/views/knowledge/create.vue?c80e","webpack:///./src/views/knowledge/create.vue","webpack:///./src/views/knowledge/edit.vue?ef0c","webpack:///src/views/knowledge/edit.vue","webpack:///./src/views/knowledge/edit.vue?8aad","webpack:///./src/views/knowledge/edit.vue","webpack:///src/views/knowledge/index.vue","webpack:///./src/views/knowledge/index.vue?43e7","webpack:///./src/views/knowledge/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_l","item","key","id","class","tableData","platform","on","$event","onTogglePlatform","_s","title","count","onRefresh","model","value","callback","$$v","keyword","expression","createDialogFormVisible","directives","name","rawName","staticStyle","list","indexMethod","scopedSlots","_u","fn","scope","row","sub_title","split","content","index","$getPlatformItem","$formatUnixDate","create_at","edit","deleteKnowledge","total","page_on","handleSizeChange","handleCurrentChange","editItem","editDialogFormVisible","staticRenderFns","dialogFormVisible","form","formLabelWidth","$set","tag","handleDel","ref","handleInputConfirm","nativeOn","type","indexOf","_k","keyCode","inputValue","showInput","$store","getters","closeModal","save","data","dynamicTags","inputVisible","uid","props","Boolean","complete","Function","methods","$emit","splice","$nextTick","push","console","log","join","lock","text","spinner","background","state","adminInfo","resize","component","platformConfig","formData","Object","response","loading","close","e","watch","assign","components","CreateDialog","EditDialog","page_size","computed","created","setTimeout","getTotal","getKnowledgeList","$confirm","confirmButtonText","cancelButtonText","center","parseInt","pid","val"],"mappings":"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","file":"js/chunk-1b20b679.382e3755.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=22f8e0fa&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=22f8e0fa&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=7b12f7d6&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=7b12f7d6&scoped=true&lang=stylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=015f50bf&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=015f50bf&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"me-head\"},[_c('span',[_c('i',{staticClass:\"el-icon-reading\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"知识库管理\")])]),_c('el-button-group',[_vm._l((_vm.total),function(item){return [_c('el-button',{key:item.id,class:{'el-button--primary': item.id + '' == _vm.tableData.platform + ''},attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.onTogglePlatform(item.id)}}},[_vm._v(_vm._s(item.title)+\" ( \"+_vm._s(item.count)+\" )\")])]})],2),_c('el-col',{attrs:{\"span\":5}},[_c('el-input',{attrs:{\"placeholder\":\"请输入关键词\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},on:{\"change\":_vm.onRefresh},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.createDialogFormVisible = true}}},[_vm._v(\"添 加\")])],1),_c('el-divider'),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.list}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"width\":\"60\",\"label\":\"#序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"主标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"sub_title\",\"label\":\"子标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.sub_title != '')?_c('div',_vm._l((scope.row.sub_title.split('|')),function(item,key){return _c('div',{key:key,staticStyle:{\"font-size\":\"13px\"}},[_vm._v(_vm._s(key+1)+\".\"+_vm._s(item))])}),0):_c('div',[_vm._v(\"-----\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"label\":\"内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.content.split('\\n')),function(item,index){return _c('div',{key:index,staticStyle:{\"font-size\":\"13px\"}},[_vm._v(_vm._s(item))])})}}])}),_c('el-table-column',{attrs:{\"prop\":\"platform\",\"align\":\"center\",\"label\":\"匹配平台\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(_vm.$getPlatformItem(scope.row.platform).title))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_at\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.$formatUnixDate(scope.row.create_at, \"YYYY/MM/DD\")))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"operating\",\"align\":\"center\",\"width\":\"150\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"编 辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteKnowledge(scope.row)}}},[_vm._v(\"删 除\")])]}}])})],1),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',{staticStyle:{\"color\":\"#666\",\"font-size\":\"14px\"}},[_vm._v(\"共找到\"+_vm._s(_vm.tableData.total)+\"条数据\")]),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"sizes, prev, pager, next\",\"current-page\":_vm.tableData.page_on,\"page-sizes\":[5, 10, 15, 20],\"total\":_vm.tableData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('CreateDialog',{attrs:{\"complete\":_vm.onRefresh,\"dialogFormVisible\":_vm.createDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.createDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.createDialogFormVisible=$event}}}),_c('EditDialog',{attrs:{\"formData\":_vm.editItem,\"complete\":_vm.onRefresh,\"dialogFormVisible\":_vm.editDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.editDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.editDialogFormVisible=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"添加新的知识\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"主标题\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主标题\",\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"子标题\",\"label-width\":_vm.formLabelWidth}},[_vm._l((_vm.dynamicTags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleDel(tag)}}},[_vm._v(_vm._s(tag))])}),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ 新增\")])],2),_c('el-form-item',{attrs:{\"label\":\"内容\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"rows\":\"5\",\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"匹配平台\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择匹配平台\"},model:{value:(_vm.form.platform),callback:function ($$v) {_vm.$set(_vm.form, \"platform\", $$v)},expression:\"form.platform\"}},_vm._l((_vm.$store.getters.platformConfig),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    width=\"600px\"\n    title=\"添加新的知识\"\n    :show-close=\"false\"\n    :visible.sync=\"dialogFormVisible\"\n    :close-on-click-modal=\"false\"\n  >\n    <el-form :model=\"form\">\n      <el-form-item label=\"主标题\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.title\" placeholder=\"请输入主标题\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"子标题\" :label-width=\"formLabelWidth\">\n        <el-tag\n          :key=\"tag\"\n          v-for=\"tag in dynamicTags\"\n          closable\n          :disable-transitions=\"false\"\n          @close=\"handleDel(tag)\"\n        >{{tag}}</el-tag>\n        <el-input\n          class=\"input-new-tag\"\n          v-if=\"inputVisible\"\n          v-model=\"inputValue\"\n          ref=\"saveTagInput\"\n          size=\"small\"\n          @keyup.enter.native=\"handleInputConfirm\"\n          @blur=\"handleInputConfirm\"\n        ></el-input>\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ 新增</el-button>\n      </el-form-item>\n      <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n        <el-input rows=\"5\"  type=\"textarea\" v-model=\"form.content\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"匹配平台\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"form.platform\" placeholder=\"请选择匹配平台\">\n          <el-option\n            :label=\"item.title\"\n            :value=\"item.id\"\n            :key=\"index\"\n            v-for=\"(item, index) in $store.getters.platformConfig\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeModal\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n    </div>\n  </el-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"mini-im-create-knowledge\",\n  data() {\n    return {\n      dynamicTags: [],\n      inputVisible: false,\n      inputValue: \"\",\n      form: {\n        uid: \"\",\n        platform: 1,\n        title: \"\",\n        sub_title: \"\",\n        content: \"\"\n      },\n      formLabelWidth: \"80px\"\n    };\n  },\n  props: {\n    dialogFormVisible: Boolean,\n    complete: Function\n  },\n  methods: {\n    // 关闭\n    closeModal() {\n      this.$emit(\"update:dialogFormVisible\", false);\n    },\n    // 删除标签\n    handleDel(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n    // 显示子标题输入框\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    // 标签确定\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = \"\";\n      console.log(this.dynamicTags.join(\"|\"));\n    },\n    // 保存\n    save() {\n      // 验证字段 ！！ 算了前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: \"保存中...\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      });\n      this.form.uid = this.$store.state.adminInfo.id;\n      this.form.sub_title = this.dynamicTags.join(\"|\");\n      axios\n        .post(\"/knowledge\", this.form)\n        .then(response => {\n          try {\n            console.log(response);\n            loading.close();\n            this.$message.success(\"添加成功\");\n            this.closeModal();\n            this.resize();\n            this.complete(1);\n          } catch (e) {\n            console.log(e);\n          }\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(error.response.data.message);\n        });\n    },\n    resize() {\n      this.dynamicTags = [];\n      this.form = {\n        uid: \"\",\n        platform: 1,\n        title: \"\",\n        sub_title: \"\",\n        content: \"\"\n      };\n    }\n  }\n};\n</script>\n<style scoped lang=\"stylus\">\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n\n.input-new-tag {\n  width: 150px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=015f50bf&scoped=true&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&id=015f50bf&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"015f50bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"编辑的知识\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"主标题\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主标题\",\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"子标题\",\"label-width\":_vm.formLabelWidth}},[_vm._l((_vm.dynamicTags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleDel(tag)}}},[_vm._v(\"\\n        \"+_vm._s(tag)+\"\\n      \")])}),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ 新增子标题\")])],2),_c('el-form-item',{attrs:{\"label\":\"内容\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"rows\":\"5\",\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"匹配平台\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择匹配平台\"},model:{value:(_vm.form.platform),callback:function ($$v) {_vm.$set(_vm.form, \"platform\", $$v)},expression:\"form.platform\"}},_vm._l((_vm.platformConfig),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog width=\"600px\"  title=\"编辑的知识\" :show-close=\"false\" :visible.sync=\"dialogFormVisible\" :close-on-click-modal=\"false\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"主标题\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.title\" placeholder=\"请输入主标题\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"子标题\" :label-width=\"formLabelWidth\">\n          <el-tag\n            :key=\"tag\"\n            v-for=\"tag in dynamicTags\"\n            closable\n            :disable-transitions=\"false\"\n            @close=\"handleDel(tag)\">\n            {{tag}}\n          </el-tag>\n          <el-input\n            class=\"input-new-tag\"\n            v-if=\"inputVisible\"\n            v-model=\"inputValue\"\n            ref=\"saveTagInput\"\n            size=\"small\"\n            @keyup.enter.native=\"handleInputConfirm\"\n            @blur=\"handleInputConfirm\"\n          >\n          </el-input>\n          <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ 新增子标题</el-button>\n        </el-form-item>\n        <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n          <el-input rows=\"5\" type=\"textarea\" v-model=\"form.content\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n         <el-form-item label=\"匹配平台\" :label-width=\"formLabelWidth\">\n            <el-select v-model=\"form.platform\" placeholder=\"请选择匹配平台\">\n              <el-option :label=\"item.title\" :value=\"item.id\" :key=\"index\" v-for=\"(item, index) in platformConfig\"></el-option>\n            </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeModal\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n      </div>\n    </el-dialog>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'mini-im-create-knowledge',\n  data(){\n    return {\n      dynamicTags: [],\n      inputVisible: false,\n      inputValue: '',\n      form: {\n        uid: \"\",\n        platform: 1,\n        title: '',\n        sub_title: '',\n        content: '',\n      },\n      platformConfig: [],\n      formLabelWidth: \"80px\"\n    }\n  },\n  props:{\n    dialogFormVisible: Boolean,\n    complete: Function,\n    formData: Object\n  },\n  methods: {\n    // 关闭\n    closeModal(){\n      this.$emit('update:dialogFormVisible', false);\n    },\n    // 删除标签\n    handleDel(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n    // 显示子标题输入框\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    // 确定\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = '';\n    },\n    // 保存\n    save(){\n      // 验证字段 ！！ 算了前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: '保存中...',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.5)'\n      });\n      this.form.uid = this.$store.state.adminInfo.id\n      this.form.sub_title = this.dynamicTags.join(\"|\")\n      axios.put('/knowledge', this.form)\n      .then(response => {\n        try{\n          console.log(response)\n          loading.close();\n          this.$message.success(\"修改成功\")\n          this.closeModal()\n          this.resize()\n          this.complete(1)\n        }catch(e){\n          console.log(e)\n        }\n      })\n      .catch(error => {\n        loading.close();\n        this.$message.error(error.response.data.message)\n      });\n\n    },\n    resize(){\n      this.dynamicTags = []\n      this.form = {\n        uid: \"\",\n        platform: 1,\n        title: '',\n        sub_title: '',\n        content: '',\n      };\n    }\n  },\n  watch:{\n    formData(){\n      this.platformConfig = this.$store.getters.platformConfig\n      this.form = Object.assign({},this.form, this.formData)\n      if(this.formData.sub_title != \"\") this.dynamicTags = this.formData.sub_title.split(\"|\")\n    }\n  }\n}\n</script>\n<style scoped lang=\"stylus\">\n    .el-tag + .el-tag {\n    margin-left: 10px;\n  }\n  .button-new-tag {\n    margin-left: 10px;\n    height: 32px;\n    line-height: 30px;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .input-new-tag {\n    width: 150px;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=7b12f7d6&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=7b12f7d6&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b12f7d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"me-head\">\n      <span>\n        <i class=\"el-icon-reading\"></i>\n        <span slot=\"title\">知识库管理</span>\n      </span>\n      <el-button-group>\n        <template v-for=\"item in total\">\n          <el-button\n            :class=\"{'el-button--primary': item.id + '' == tableData.platform + ''}\"\n            @click=\"onTogglePlatform(item.id)\"\n            :key=\"item.id\"\n            size=\"small\"\n          >{{item.title}} ( {{item.count}} )</el-button>\n        </template>\n      </el-button-group>\n      <el-col :span=\"5\">\n        <el-input\n          @change=\"onRefresh\"\n          placeholder=\"请输入关键词\"\n          prefix-icon=\"el-icon-search\"\n          v-model=\"keyword\"\n          clearable\n        ></el-input>\n      </el-col>\n      <el-button @click=\"createDialogFormVisible = true\" size=\"mini\">添 加</el-button>\n    </div>\n    <el-divider />\n    <el-table :data=\"tableData.list\" style=\"width: 100%\" v-loading=\"loading\">\n      <el-table-column type=\"index\" :index=\"indexMethod\" width=\"60\" label=\"#序号\"></el-table-column>\n      <el-table-column prop=\"title\" label=\"主标题\"></el-table-column>\n      <el-table-column prop=\"sub_title\" label=\"子标题\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.sub_title != ''\">\n            <div\n              style=\"font-size: 13px;\"\n              :key=\"key\"\n              v-for=\"(item, key) in scope.row.sub_title.split('|')\"\n            >{{key+1}}.{{item}}</div>\n          </div>\n          <div v-else>-----</div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"content\" label=\"内容\">\n        <template slot-scope=\"scope\">\n          <div style=\"font-size: 13px;\" :key=\"index\" v-for=\"(item, index) in scope.row.content.split('\\n')\">{{item}}</div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"platform\" align=\"center\" label=\"匹配平台\">\n        <template slot-scope=\"scope\">\n          <el-tag>{{$getPlatformItem(scope.row.platform).title}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"create_at\" label=\"创建时间\">\n        <template slot-scope=\"scope\">{{$formatUnixDate(scope.row.create_at, \"YYYY/MM/DD\")}}</template>\n      </el-table-column>\n      <el-table-column prop=\"operating\" align=\"center\" width=\"150\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"edit(scope.row)\">编 辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteKnowledge(scope.row)\">删 除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-row type=\"flex\" style=\"margin-top: 20px;\" justify=\"space-between\">\n      <span style=\"color:#666;font-size: 14px;\">共找到{{tableData.total}}条数据</span>\n      <el-pagination\n        background\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        layout=\"sizes, prev, pager, next\"\n        :current-page=\"tableData.page_on\"\n        :page-sizes=\"[5, 10, 15, 20]\"\n        :total=\"tableData.total\"\n      ></el-pagination>\n    </el-row>\n    <CreateDialog :complete=\"onRefresh\" :dialogFormVisible.sync=\"createDialogFormVisible\" />\n    <EditDialog\n      :formData=\"editItem\"\n      :complete=\"onRefresh\"\n      :dialogFormVisible.sync=\"editDialogFormVisible\"\n    />\n  </div>\n</template>\n\n<script>\nimport CreateDialog from \"./create\";\nimport EditDialog from \"./edit\";\nimport axios from \"axios\";\nexport default {\n  name: \"knowledge\",\n  components: {\n    CreateDialog,\n    EditDialog\n  },\n  data() {\n    return {\n      keyword: \"\",\n      tableData: {\n        list: [],\n        page_on: 1,\n        page_size: 10,\n        total: 0,\n        keyword: \"\",\n        platform: 1\n      },\n      total: [],\n      createDialogFormVisible: false,\n      editDialogFormVisible: false,\n      loading: true,\n      editItem: null\n    };\n  },\n  computed: {\n    platformConfig() {\n      return this.$store.state.platformConfig || [];\n    }\n  },\n  created() {\n    setTimeout(() => {\n      this.getKnowledgeList();\n      this.getTotal();\n    }, 500);\n  },\n  methods: {\n    onRefresh() {\n      this.getTotal();\n      this.getKnowledgeList();\n    },\n    // 行号\n    indexMethod(index) {\n      return (\n        (this.tableData.page_on - 1) * this.tableData.page_size + index + 1\n      );\n    },\n    // 删除\n    deleteKnowledge(item) {\n      this.$confirm(\"您确定要删除该知识库吗? 删除后不可恢复！\", \"温馨提示！\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        center: true,\n        type: \"warning\"\n      }).then(() => {\n        axios\n          .delete(\"/knowledge/\" + item.id)\n          .then(response => {\n            console.log(response.data);\n            this.$message.success(\"删除成功\");\n            this.getKnowledgeList(1);\n          })\n          .catch(error => {\n            this.$message.error(error.response.data.message);\n          });\n      });\n    },\n    // 切换显示平台\n    onTogglePlatform(pid) {\n      this.tableData.platform = parseInt(pid);\n      this.getKnowledgeList(1);\n    },\n    // 编辑\n    edit(item) {\n      this.editItem = item;\n      this.editDialogFormVisible = true;\n    },\n    // 改变每页条数\n    handleSizeChange(val) {\n      this.tableData.page_size = val;\n      this.getKnowledgeList();\n    },\n    // 分页\n    handleCurrentChange(val) {\n      this.tableData.page_on = val;\n      this.getKnowledgeList();\n    },\n    // 获取数据\n    getKnowledgeList(index) {\n      if (index) this.tableData.page_on = index;\n      const { page_on, page_size, platform } = this.tableData;\n      const keyword = this.keyword;\n      axios\n        .post(\"/knowledge/list\", { page_on, page_size, platform, keyword })\n        .then(response => {\n          this.loading = false;\n          this.tableData = response.data.data;\n        })\n        .catch(error => {\n          this.loading = false;\n          this.$message.error(error.response.data.message);\n        });\n    },\n    // 获取统计数据\n    getTotal() {\n      axios.get(\"/knowledge/total\").then(response => {\n        this.total = response.data.data;\n      });\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n.me-head {\n  height: 30px;\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  justify-content: space-between;\n  color: #666;\n\n  i {\n    margin-right: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=22f8e0fa&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=22f8e0fa&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22f8e0fa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}