{"version":3,"sources":["webpack:///./src/views/system/index.vue?6849","webpack:///./src/views/system/create_platform.vue?6eab","webpack:///src/views/system/create_platform.vue","webpack:///./src/views/system/create_platform.vue?17f1","webpack:///./src/views/system/create_platform.vue","webpack:///./src/views/system/edit_platform.vue?adc4","webpack:///src/views/system/edit_platform.vue","webpack:///./src/views/system/edit_platform.vue?54ae","webpack:///./src/views/system/edit_platform.vue","webpack:///src/views/system/index.vue","webpack:///./src/views/system/index.vue?cbce","webpack:///./src/views/system/index.vue?4920","webpack:///./src/views/system/index.vue?747d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","model","value","callback","$$v","activeName","expression","ref","staticStyle","systemInfo","logo","isRoot","on","systemLogoUpload","directives","name","rawName","_s","uploadysLogoPercent","$set","_l","$store","getters","item","key","id","saveSystem","_e","companyInfo","companyLogoUpload","uploadCompanyPercent","saveCompany","qiniuSecret","saveQiniu","platformConfig","scopedSlots","_u","fn","scope","row","system","title","$event","editPlatform","deletePlatform","createDialogFormVisible","editPlatformItem","editDialogFormVisible","staticRenderFns","dialogFormVisible","form","formLabelWidth","closeModal","save","data","props","Boolean","complete","Function","methods","$emit","lock","text","spinner","background","resize","component","formData","Object","watch","assign","components","CreatePlatformDialog","EditPlatformDialog","isUploadingSysLogo","isUploadingCompany","computed","adminInfo","root","updated","$nextTick","mounted","onSubmit","$confirm","confirmButtonText","cancelButtonText","center","type","fileData","file","target","files","imgUrl","getQiniu"],"mappings":"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","file":"js/chunk-650419d0.394afa0b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mini-im-head\"},[_c('span',[_c('i',{staticClass:\"el-icon-setting\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"系统设置\")])])]),_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本设置\",\"name\":\"first\"}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"500px\"},attrs:{\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"系统LOGO\",\"label-width\":\"120px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"mini-im-file-button\",attrs:{\"title\":\"点击上传图片\"}},[_c('img',{attrs:{\"src\":_vm.systemInfo.logo,\"alt\":\"点击上传图片\"}}),_c('input',{attrs:{\"disabled\":!_vm.isRoot,\"onClick\":\"this.value = null\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.systemLogoUpload}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUploadingSysLogo),expression:\"isUploadingSysLogo\"}],staticClass:\"mini-im-file-percent\"},[_c('span',[_vm._v(_vm._s(_vm.uploadysLogoPercent))])])])]),_c('el-col',{attrs:{\"span\":6}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"系统名称\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"placeholder\":\"请输入系统名称\"},model:{value:(_vm.systemInfo.title),callback:function ($$v) {_vm.$set(_vm.systemInfo, \"title\", $$v)},expression:\"systemInfo.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"版权信息\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"placeholder\":\"请输入版权信息\"},model:{value:(_vm.systemInfo.copy_right),callback:function ($$v) {_vm.$set(_vm.systemInfo, \"copy_right\", $$v)},expression:\"systemInfo.copy_right\"}})],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"选择资源存储空间服务商（上传的，图片，文件）\")]),_c('el-form-item',{attrs:{\"label\":\"上传选项\"}},[_c('el-select',{model:{value:(_vm.systemInfo.upload_mode),callback:function ($$v) {_vm.$set(_vm.systemInfo, \"upload_mode\", $$v)},expression:\"systemInfo.upload_mode\"}},_vm._l((_vm.$store.getters.uploadsConfigs),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',[(_vm.isRoot)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.saveSystem}},[_vm._v(\"保存设置\")]):_vm._e()],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"公司信息\",\"name\":\"second\"}},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"该配置信息会展示在各个前台给客户\")]),_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"500px\"},attrs:{\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"公司LOGO\",\"label-width\":\"120px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"mini-im-file-button\",attrs:{\"title\":\"点击上传图片\"}},[_c('img',{attrs:{\"src\":_vm.companyInfo.logo,\"alt\":\"点击上传图片\"}}),_c('input',{attrs:{\"disabled\":!_vm.isRoot,\"onClick\":\"this.value = null\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.companyLogoUpload}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUploadingCompany),expression:\"isUploadingCompany\"}],staticClass:\"mini-im-file-percent\"},[_c('span',[_vm._v(_vm._s(_vm.uploadCompanyPercent))])])])]),_c('el-col',{attrs:{\"span\":6}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"公司名称\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"placeholder\":\"请输入公司名称\"},model:{value:(_vm.companyInfo.title),callback:function ($$v) {_vm.$set(_vm.companyInfo, \"title\", $$v)},expression:\"companyInfo.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"服务时间\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"placeholder\":\"请输入在线客服服务时间\"},model:{value:(_vm.companyInfo.service),callback:function ($$v) {_vm.$set(_vm.companyInfo, \"service\", $$v)},expression:\"companyInfo.service\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公司邮箱\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"placeholder\":\"请输入公司邮箱\"},model:{value:(_vm.companyInfo.email),callback:function ($$v) {_vm.$set(_vm.companyInfo, \"email\", $$v)},expression:\"companyInfo.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公司电话\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"placeholder\":\"请输入公司电话\"},model:{value:(_vm.companyInfo.tel),callback:function ($$v) {_vm.$set(_vm.companyInfo, \"tel\", $$v)},expression:\"companyInfo.tel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公司地址\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isRoot,\"type\":\"textarea\",\"rows\":\"5\",\"placeholder\":\"请输入公司地址\"},model:{value:(_vm.companyInfo.address),callback:function ($$v) {_vm.$set(_vm.companyInfo, \"address\", $$v)},expression:\"companyInfo.address\"}})],1),_c('el-form-item',[(_vm.isRoot)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.saveCompany}},[_vm._v(\"保存设置\")]):_vm._e()],1)],1)],1),(_vm.isRoot)?_c('el-tab-pane',{attrs:{\"label\":\"七牛云存储配置\",\"name\":\"three\"}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"500px\"},attrs:{\"label-width\":\"100px\"}},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"请不要随意修改该选项，可能会导致客户端上传不了文件或图片\")]),_c('el-form-item',{attrs:{\"label\":\"Bucket\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入bucket\"},model:{value:(_vm.qiniuSecret.bucket),callback:function ($$v) {_vm.$set(_vm.qiniuSecret, \"bucket\", $$v)},expression:\"qiniuSecret.bucket\"}})],1),_c('el-form-item',{attrs:{\"label\":\"accessKey\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入accessKey\",\"show-password\":\"\"},model:{value:(_vm.qiniuSecret.access_key),callback:function ($$v) {_vm.$set(_vm.qiniuSecret, \"access_key\", $$v)},expression:\"qiniuSecret.access_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"secretKey\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入secretKey\",\"show-password\":\"\"},model:{value:(_vm.qiniuSecret.secret_key),callback:function ($$v) {_vm.$set(_vm.qiniuSecret, \"secret_key\", $$v)},expression:\"qiniuSecret.secret_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Host\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入host\"},model:{value:(_vm.qiniuSecret.host),callback:function ($$v) {_vm.$set(_vm.qiniuSecret, \"host\", $$v)},expression:\"qiniuSecret.host\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.saveQiniu}},[_vm._v(\"保存设置\")])],1)],1)],1):_vm._e(),_c('el-tab-pane',{attrs:{\"label\":\"客户端平台\",\"name\":\"fives\"}},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"通过该配置，对接的平台，机器人，知识库匹配等 (系统默认项不可修改)\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.$store.getters.platformConfig}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"#ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.system == 1)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(_vm._s(scope.row.title))]):_vm._e(),(scope.row.system == 0)?_c('el-tag',[_vm._v(_vm._s(scope.row.title))]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"alias\",\"label\":\"别名\",\"align\":\"center\"}}),(_vm.isRoot)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.system == 0)?[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editPlatform(scope.row)}}},[_vm._v(\"编 辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deletePlatform(scope.row)}}},[_vm._v(\"删 除\")])]:_vm._e(),(scope.row.system == 1)?_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\"}},[_vm._v(\"系统内置，不可操作\")]):_vm._e()]}}],null,false,748916141)}):_vm._e(),_c('el-table-column')],1),(_vm.isRoot)?_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.createDialogFormVisible = true}}},[_vm._v(\"添加新平台\")]):_vm._e()],1)],1),_c('CreatePlatformDialog',{attrs:{\"dialogFormVisible\":_vm.createDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.createDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.createDialogFormVisible=$event}}}),_c('EditPlatformDialog',{attrs:{\"formData\":_vm.editPlatformItem,\"dialogFormVisible\":_vm.editDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.editDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.editDialogFormVisible=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"添加平台\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"平台名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入平台名称\",\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"平台别名\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入平台别名\",\"autocomplete\":\"off\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", $$v)},expression:\"form.alias\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog  title=\"添加平台\" :show-close=\"false\" :visible.sync=\"dialogFormVisible\" :close-on-click-modal=\"false\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"平台名称\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.title\" placeholder=\"请输入平台名称\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"平台别名\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.alias\" placeholder=\"请输入平台别名\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeModal\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n      </div>\n    </el-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  name: 'mini-im-create-admin',\n  data(){\n    return {\n        form: {\n          title: '',\n          alias: '',\n        },\n        formLabelWidth: \"80px\"\n    }\n  },\n  props:{\n    dialogFormVisible: Boolean,\n    complete: Function\n  },\n  methods: {\n    // 关闭\n    closeModal(){\n      this.$emit('update:dialogFormVisible', false);\n    },\n    // 保存\n    save() {\n      // 验证字段 ！！ 算了其它前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: \"保存中...\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      });\n      axios\n        .post(\"/platform\", this.form)\n        .then(response => {\n          console.log(response);\n          loading.close();\n          this.$message.success(\"添加成功\");\n          this.closeModal();\n          this.resize();\n          this.$store.dispatch('ON_GET_PLATFORM_CONFIG')\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(error.response.data.message);\n        });\n    },\n    resize() {\n      this.form = {\n       title: '',\n          alias: '',\n      };\n    }\n  }\n}\n</script>\n<style scoped lang=\"stylus\">\n   \n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create_platform.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create_platform.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create_platform.vue?vue&type=template&id=74dae80a&scoped=true&\"\nimport script from \"./create_platform.vue?vue&type=script&lang=js&\"\nexport * from \"./create_platform.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74dae80a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"修改平台\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"平台名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入平台名称\",\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"平台别名\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入平台别名\",\"autocomplete\":\"off\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", $$v)},expression:\"form.alias\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog  title=\"修改平台\" :show-close=\"false\" :visible.sync=\"dialogFormVisible\" :close-on-click-modal=\"false\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"平台名称\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.title\" placeholder=\"请输入平台名称\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"平台别名\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.alias\" placeholder=\"请输入平台别名\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeModal\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n      </div>\n    </el-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  name: 'me-create-admin',\n  data(){\n    return {\n        form: {\n          title: '',\n          alias: '',\n        },\n        formLabelWidth: \"80px\"\n    }\n  },\n  props:{\n    dialogFormVisible: Boolean,\n    complete: Function,\n    formData: Object\n  },\n  methods: {\n    // 关闭\n    closeModal(){\n      this.$emit('update:dialogFormVisible', false);\n    },\n    // 保存\n    save() {\n      // 验证字段 ！！ 算了其它前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: \"保存中...\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      });\n      axios\n        .put(\"/platform\", this.form)\n        .then(response => {\n          console.log(response);\n          loading.close();\n          this.$message.success(\"添加成功\");\n          this.closeModal();\n          this.$store.dispatch('ON_GET_PLATFORM_CONFIG')\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(error.response.data.message);\n        });\n    }\n  },\n  watch:{\n    formData(){\n      this.form = Object.assign({},this.form, this.formData)\n    }\n  }\n}\n</script>\n<style scoped lang=\"stylus\">\n   \n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_platform.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit_platform.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit_platform.vue?vue&type=template&id=51cfd3c3&scoped=true&\"\nimport script from \"./edit_platform.vue?vue&type=script&lang=js&\"\nexport * from \"./edit_platform.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51cfd3c3\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"mini-im-head\">\n      <span>\n        <i class=\"el-icon-setting\"></i>\n        <span slot=\"title\">系统设置</span>\n      </span>\n    </div>\n    <el-tabs v-model=\"activeName\">\n      <el-tab-pane label=\"基本设置\" name=\"first\">\n        <el-form style=\"width:500px\" ref=\"form\" label-width=\"100px\">\n          <el-form-item label=\"系统LOGO\" label-width=\"120px\">\n            <el-row :gutter=\"10\">\n              <el-col :span=\"3\">\n                <div class=\"mini-im-file-button\" title=\"点击上传图片\">\n                  <img :src=\"systemInfo.logo\" alt=\"点击上传图片\">\n                  <input\n                    :disabled=\"!isRoot\"\n                    onClick=\"this.value = null\"\n                    @change=\"systemLogoUpload\"\n                    type=\"file\"\n                    accept=\"image/*\"\n                  />\n                  <div v-show=\"isUploadingSysLogo\" class=\"mini-im-file-percent\">\n                    <span>{{uploadysLogoPercent}}</span>\n                  </div>\n                </div>\n              </el-col>\n              <el-col :span=\"6\"></el-col>\n            </el-row>\n          </el-form-item>\n          <el-form-item label=\"系统名称\">\n            <el-input :readonly=\"!isRoot\" v-model=\"systemInfo.title\" placeholder=\"请输入系统名称\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"版权信息\">\n            <el-input :readonly=\"!isRoot\" v-model=\"systemInfo.copy_right\" placeholder=\"请输入版权信息\"></el-input>\n          </el-form-item>\n          <el-divider content-position=\"left\">选择资源存储空间服务商（上传的，图片，文件）</el-divider>\n          <el-form-item label=\"上传选项\">\n            <el-select v-model=\"systemInfo.upload_mode\">\n              <el-option :label=\"item.name\" :value=\"item.id\" :key=\"item.id\" v-for=\"item in $store.getters.uploadsConfigs\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button v-if=\"isRoot\" @click=\"saveSystem\" size=\"mini\">保存设置</el-button>\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane label=\"公司信息\" name=\"second\">\n        <el-divider content-position=\"left\">该配置信息会展示在各个前台给客户</el-divider>\n        <el-form style=\"width:500px\" ref=\"form\" label-width=\"100px\">\n          <el-form-item label=\"公司LOGO\" label-width=\"120px\">\n            <el-row :gutter=\"10\">\n              <el-col :span=\"3\">\n                <div class=\"mini-im-file-button\" title=\"点击上传图片\">\n                  <img :src=\"companyInfo.logo\" alt=\"点击上传图片\">\n                  <input\n                    :disabled=\"!isRoot\"\n                    onClick=\"this.value = null\"\n                    @change=\"companyLogoUpload\"\n                    type=\"file\"\n                    accept=\"image/*\"\n                  />\n                  <div v-show=\"isUploadingCompany\" class=\"mini-im-file-percent\">\n                    <span>{{uploadCompanyPercent}}</span>\n                  </div>\n                </div>\n              </el-col>\n              <el-col :span=\"6\"></el-col>\n            </el-row>\n          </el-form-item>\n          <el-form-item label=\"公司名称\">\n            <el-input :readonly=\"!isRoot\" v-model=\"companyInfo.title\" placeholder=\"请输入公司名称\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"服务时间\">\n            <el-input :readonly=\"!isRoot\" v-model=\"companyInfo.service\" placeholder=\"请输入在线客服服务时间\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"公司邮箱\">\n            <el-input :readonly=\"!isRoot\" v-model=\"companyInfo.email\" placeholder=\"请输入公司邮箱\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"公司电话\">\n            <el-input :readonly=\"!isRoot\" v-model=\"companyInfo.tel\" placeholder=\"请输入公司电话\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"公司地址\">\n            <el-input :readonly=\"!isRoot\" type=\"textarea\" rows=\"5\" v-model=\"companyInfo.address\" placeholder=\"请输入公司地址\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button v-if=\"isRoot\" @click=\"saveCompany\" size=\"mini\">保存设置</el-button>\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane v-if=\"isRoot\" label=\"七牛云存储配置\" name=\"three\">\n        <el-form style=\"width:500px\" ref=\"form\" label-width=\"100px\">\n          <el-divider content-position=\"left\">请不要随意修改该选项，可能会导致客户端上传不了文件或图片</el-divider>\n          <el-form-item label=\"Bucket\">\n            <el-input v-model=\"qiniuSecret.bucket\" placeholder=\"请输入bucket\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"accessKey\">\n            <el-input v-model=\"qiniuSecret.access_key\" placeholder=\"请输入accessKey\"  show-password></el-input>\n          </el-form-item>\n          <el-form-item label=\"secretKey\">\n            <el-input v-model=\"qiniuSecret.secret_key\" placeholder=\"请输入secretKey\"  show-password></el-input>\n          </el-form-item>\n          <el-form-item label=\"Host\">\n            <el-input v-model=\"qiniuSecret.host\" placeholder=\"请输入host\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button @click=\"saveQiniu\" size=\"mini\">保存设置</el-button>\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane label=\"客户端平台\" name=\"fives\">\n        <el-divider content-position=\"left\">通过该配置，对接的平台，机器人，知识库匹配等 (系统默认项不可修改)</el-divider>\n        <el-table :data=\"$store.getters.platformConfig\" style=\"width: 100%\">\n          <el-table-column prop=\"id\" label=\"#ID\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"title\" label=\"名称\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag type=\"danger\" v-if=\"scope.row.system == 1\">{{scope.row.title}}</el-tag>\n              <el-tag v-if=\"scope.row.system == 0\">{{scope.row.title}}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"alias\" label=\"别名\"  align=\"center\"></el-table-column>\n          <el-table-column v-if=\"isRoot\" label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <template v-if=\"scope.row.system == 0\">\n                <el-button @click=\"editPlatform(scope.row)\" size=\"mini\">编 辑</el-button>\n                <el-button @click=\"deletePlatform(scope.row)\" size=\"mini\" type=\"danger\">删 除</el-button>\n              </template>\n              <span  v-if=\"scope.row.system == 1\" style=\"font-size: 12px;color: #999;\">系统内置，不可操作</span>\n            </template>\n          </el-table-column>\n          <el-table-column></el-table-column>\n        </el-table>\n        <el-button v-if=\"isRoot\" style=\"margin-top:20px;\" @click=\"createDialogFormVisible = true\" size=\"mini\">添加新平台</el-button>\n      </el-tab-pane>\n    </el-tabs>\n    <CreatePlatformDialog :dialogFormVisible.sync=\"createDialogFormVisible\" />\n    <EditPlatformDialog :formData=\"editPlatformItem\" :dialogFormVisible.sync=\"editDialogFormVisible\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport upload from '../../common/upload'\nimport CreatePlatformDialog from \"./create_platform\"\nimport EditPlatformDialog from \"./edit_platform\"\nexport default {\n  name: \"system\",\n  components: {\n    CreatePlatformDialog,\n    EditPlatformDialog,\n  },\n  data() {\n    return {\n      activeName: \"first\",\n      systemInfo: {},\n      companyInfo: {},\n      isUploadingSysLogo: false,\n      uploadysLogoPercent: \"\",\n      isUploadingCompany: false,\n      uploadCompanyPercent: \"\",\n      qiniuSecret: {},\n      createDialogFormVisible: false,\n      editDialogFormVisible: false,\n      editPlatformItem: {}\n    }\n  },\n  computed:{\n    isRoot(){\n      if(this.$store.getters.adminInfo){\n        return this.$store.getters.adminInfo.root == 1\n      }else{\n        return false\n      }\n      \n    }\n  },\n  updated: function () {\n    this.$nextTick(function () {\n      this.systemInfo = this.$store.getters.systemInfo\n      this.companyInfo = this.$store.getters.companyInfo\n    })\n  },\n  mounted(){\n    this.systemInfo = this.$store.getters.systemInfo\n    this.companyInfo = this.$store.getters.companyInfo\n    if(this.isRoot) this.getQiniu()\n  },\n  methods: {\n    onSubmit() {\n      this.$confirm(\"您确定要保存修改后的配置吗?\", \"温馨提示！\", {\n        confirmButtonText: \"保存\",\n        cancelButtonText: \"取消\",\n        center: true,\n        type: \"warning\"\n      });\n    },\n    //  系统logo上传\n    systemLogoUpload(file) {\n      var fileData = file.target.files[0];\n       upload({\n         file: fileData,\n         progress: (percent) => {\n            this.isUploadingSysLogo = true;\n            this.uploadysLogoPercent = percent + \"%\";\n         },\n         success: (url) => {\n            this.isUploadingSysLogo = false;\n            this.uploadysLogoPercent = \"\";\n            this.$message.success(\"上传成功\");\n            var imgUrl = this.$store.getters.configs.upload_host + \"/\" + url;\n            this.systemInfo.logo = imgUrl;\n         },\n         error: (err)=>{\n          this.isUploadingSysLogo = false;\n          this.uploadysLogoPercent = \"\";\n          this.$message.error(err.message);\n         }\n       });\n\n    },\n    // 保存系统配置\n    saveSystem(){\n      this.$confirm(\"您确定要保存修改后的系统配置吗?\", \"温馨提示！\", {\n        confirmButtonText: \"保存\",\n        cancelButtonText: \"取消\",\n        center: true,\n        type: \"warning\"\n      }).then(()=>{\n        axios\n        .put(\"/system\", this.systemInfo)\n        .then(response => {\n            this.$store.commit('onChangeSystemInfo', response.data.data)\n            this.$message.success(\"保存成功\");\n            this.$store.dispatch('ON_GET_SYSTEM')\n            this.$store.dispatch('ON_GET_UPLOADS_CONFIG')\n        })\n        .catch(error => {\n          this.$message.error(error.response.data.message);\n        });\n      })\n    },\n    // 公司logo上传\n    companyLogoUpload(file) {\n\n       var fileData = file.target.files[0];\n       upload({\n         file: fileData,\n         progress: (percent) => {\n            this.isUploadingCompany = true;\n            this.uploadCompanyPercent = percent + \"%\";\n         },\n         success: (url) => {\n            this.isUploadingCompany = false;\n          this.uploadCompanyPercent = \"\";\n          this.$message.success(\"上传成功\");\n          var imgUrl = this.$store.getters.configs.upload_host + \"/\" + url;\n          this.companyInfo.logo = imgUrl;\n         },\n         error: (err)=>{\n          this.isUploadingCompany = false;\n          this.uploadCompanyPercent = \"\";\n          this.$message.error(err.message);\n         }\n       });\n\n       \n    },\n    // 保存公司配置\n    saveCompany(){\n      this.$confirm(\"您确定要保存修改后的公司信息吗?\", \"温馨提示！\", {\n        confirmButtonText: \"保存\",\n        cancelButtonText: \"取消\",\n        center: true,\n        type: \"warning\"\n      }).then(()=>{\n        axios\n        .put(\"/company\", this.companyInfo)\n        .then(response => {\n            this.$store.commit('onChangeCompanyInfo', response.data.data)\n            this.$message.success(\"保存成功\");\n        })\n        .catch(error => {\n          this.$message.error(error.response.data.message);\n        });\n      })\n    },\n    // 获取七牛配置\n    getQiniu(){\n      axios.get('/qiniu')\n      .then(response => {\n          this.qiniuSecret = response.data.data\n      })\n      .catch(error => {\n        this.$message.error(error.response.data.message)\n      });\n    },\n    // 保存七牛配置\n    saveQiniu(){\n      this.$confirm(\"您确定要保存修改后的七牛配置信息吗?如配置信息错误会导致客户端无法上传图片文件\", \"警告！\", {\n        confirmButtonText: \"保存\",\n        cancelButtonText: \"取消\",\n        center: true,\n        type: \"warning\"\n      }).then(()=>{\n        axios\n        .put(\"/qiniu\", this.qiniuSecret)\n        .then(response => {\n            console.log(response.data.data)\n            this.$message.success(\"保存成功\");\n        })\n        .catch(error => {\n          this.$message.error(error.response.data.message);\n        });\n      })\n    },\n    // 删除平台\n    deletePlatform(item){\n       console.log(item)\n      this.$confirm('您确定要删除该平台配置吗? 删除后不可恢复！', '温馨提示！', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        center: true,\n        type: 'warning'\n      }).then(() => {\n      \n        axios.delete('/platform/' + item.id)\n        .then(response => {\n            console.log(response.data)\n            this.$message.success(\"删除成功\")\n            this.$store.dispatch('ON_GET_PLATFORM_CONFIG')\n        })\n        .catch(error => {\n          this.$message.error(error.response.data.message)\n        });\n      })\n    },\n    // 编辑平台\n    editPlatform(item){\n      this.editPlatformItem = item\n      this.editDialogFormVisible = true\n    },\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n.mini-im-head {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  justify-content: space-between;\n  color: #666;\n\n  i {\n    margin-right: 5px;\n  }\n}\n\n.mini-im-file-button {\n  width: 180px;\n  position: relative;\n  overflow: hidden;\n  // background-color #f3f3f3\n  border-radius 3px\n  padding 5px\n  box-shadow 1px 1px 7px 0px #ccc\n  input {\n    width: 180px;\n    font-size: 100px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    opacity 0\n    cursor: pointer;\n    opacity 0\n  }\n  img{\n    width  100%\n    display block\n  }\n\n  cursor: pointer;\n\n  .mini-im-file-percent {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: #fff;\n    font-size: 12px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3a76b6f8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3a76b6f8&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a76b6f8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3a76b6f8&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3a76b6f8&lang=stylus&scoped=true&\""],"sourceRoot":""}